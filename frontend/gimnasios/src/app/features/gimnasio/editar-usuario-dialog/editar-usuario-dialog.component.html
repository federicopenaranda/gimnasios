<div class="content">
  <section>
    <form [formGroup]="userForm" (submit)="onSubmit()">
      <h1>Datos del usuario</h1>
      <div class="fields">
        <mat-form-field>
          <mat-label>Nombre</mat-label>
          <input type="text" formControlName="nombre" matInput placeholder="Nombre del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Apellido</mat-label>
          <input type="text" formControlName="apellido" matInput placeholder="Apellido del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input type="email" formControlName="email" matInput placeholder="Email del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Telefono</mat-label>
          <input type="text" formControlName="telefono" matInput placeholder="Telefono del usuario" required>
          <mat-icon matSuffix color="primary">phone</mat-icon>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Celular</mat-label>
          <input type="text" formControlName="celular" matInput placeholder="Celular del usuario" required>
          <mat-icon matSuffix color="primary">phone_android</mat-icon>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Cédula</mat-label>
          <input type="text" formControlName="cedula" matInput placeholder="Cédula del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Contraseña</mat-label>
          <input type="password" formControlName="contrasena" matInput placeholder="Contraseña del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Edad</mat-label>
          <input type="number" formControlName="edad" matInput placeholder="Edad del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Fecha de nacimiento</mat-label>
          <input type="date" formControlName="fecha_nacimiento" matInput placeholder="Fecha de nacimiento del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Dirección</mat-label>
          <input type="text" formControlName="direccion" matInput placeholder="Dirección del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Cobertura medica</mat-label>
          <input type="text" formControlName="cobertura_medica" matInput placeholder="Cobertura medica del usuario" required>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Emergencia movil</mat-label>
          <input type="text" formControlName="emergencia_movil" matInput placeholder="Emergencia movil del usuario" required>
        </mat-form-field>
      </div>
      <div class="contacts-conditions">
        <h1>Contactos del usuario</h1>
        <form [formGroup]="usuarioContactoForm" >
          <ng-container formArrayName="usuario_contacto_edit">
            @for(contacto of usuarioContactoEdit.controls; let i = $index; track $index ){
              <div [formGroupName]="i" >
                <div>
                  <mat-form-field>
                    <mat-label>Teléfono del contacto</mat-label>
                    <input matInput formControlName="telefono_contacto" placeholder="Teléfono del contacto" required>
                    <mat-icon matSuffix color="primary">phone</mat-icon>
                  </mat-form-field>
                  <mat-form-field>
                    <mat-label>Relación del contacto</mat-label>
                    <input matInput formControlName="relacion_contacto" placeholder="Relación del contacto" required>
                  </mat-form-field>
                </div>
                <button mat-icon-button color="warn" (click)="removeUsuarioContactoEdit(i)">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            }
          </ng-container>



          <ng-container formArrayName="usuario_contacto_add">
            @for(contacto of usuarioContactoAdd.controls; let i = $index; track $index ){
              <div [formGroupName]="i" >
                <div>
                  <mat-form-field>
                    <mat-label>Teléfono del contacto</mat-label>
                    <input matInput formControlName="telefono_contacto" placeholder="Teléfono del contacto" required>
                    <mat-icon matSuffix color="primary">phone</mat-icon>
                  </mat-form-field>
                  <mat-form-field>
                    <mat-label>Relación del contacto</mat-label>
                    <input matInput formControlName="relacion_contacto" placeholder="Relación del contacto" required>
                  </mat-form-field>
                </div>
                <button mat-icon-button color="warn" (click)="removeUsuarioContactoAdd(i)">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            }
          </ng-container>
          <button matButton="filled" color="primary" (click)="addUsuarioContactoAdd()">Agregar Contacto</button>
        </form>





        <h1>Condiciones del usuario</h1>
        <form [formGroup]="usuarioCondicionForm" >
          <ng-container formArrayName="usuario_condicion_edit">
            @for(condicion of usuarioCondicionEdit.controls; let i = $index; track $index ){
              <div [formGroupName]="i" >
                <div>
                  <mat-form-field>
                    <mat-label>Tipo de condicion</mat-label>
                    <input matInput formControlName="tipo_condicion" placeholder="Tipo de condicion" required>
                  </mat-form-field>
                  <mat-form-field>
                    <mat-label>Descripcion</mat-label>
                    <input matInput formControlName="descripcion" placeholder="Descripcion de la condicion" required>
                  </mat-form-field>
                </div>
                <button mat-icon-button color="warn" (click)="removeUsuarioCondicionEdit(i)">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            }
          </ng-container>



          <ng-container formArrayName="usuario_condicion_add">
            @for(condicion of usuarioCondicionAdd.controls; let i = $index; track $index ){
              <div [formGroupName]="i" >
                <div>
                  <mat-form-field>
                    <mat-label>Tipo de condicion</mat-label>
                    <input matInput formControlName="tipo_condicion" placeholder="Tipo de condicion" required>
                  </mat-form-field>
                  <mat-form-field>
                    <mat-label>Descripcion</mat-label>
                    <input matInput formControlName="descripcion" placeholder="Descripcion de la condicion" required>
                  </mat-form-field>
                </div>
                <button mat-icon-button color="warn" (click)="removeUsuarioCondicionAdd(i)">
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            }
          </ng-container>
          <button matButton="filled" color="primary" (click)="addUsuarioCondicionAdd()">Agregar Condicion</button>
        </form>
      </div>
      <mat-card-actions class="actions">
        <button matButton="outlined" type="button" (click)="dialogRef.close()" color="contrast">Cancelar</button>
        <button matButton="filled" type="submit" color="primary">Guardar cambios</button>
      </mat-card-actions>
    </form>
  </section>
</div>